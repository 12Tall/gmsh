function neumannCondition (x,y,z)
  return {-100e6,0,0}
end

m = GModel()
m:load("conge.geo")
m:load("conge.msh")
e = elasticitySolver(m,1)
e:addElasticDomain (7, 200e9, 0.3)
e:addDirichletBC (1,8,0,0)
e:addDirichletBC (1,8,1,0)
e:addDirichletBC (1,8,2,0)
e:addNeumannBCLua (1,9,"neumannCondition")
sys = linearSystemCSRTaucs()
e:assemble(sys)
sys:systemSolve()
view = e:buildVonMisesView("vonMises")
print(view)
view:write("vonMises.msh",5,false)
view = e:buildDisplacementView("displacement")
view:write("displacement.msh",5,false)
view = e:buildLagrangeMultiplierView("lagrangeMultiplier")
view:write("lagrangeMultiplier.msh",5,false)
view = e:buildElasticEnergyView("elasticEnergy")
view:write("elasticEnergy.msh",5,false)
viewData = view:getData()
print(viewData:getNumEntities(-1))
